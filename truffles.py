def truffle(v, n):
    if n <= 0:
        return 0
    if n == 1:
        return v[0]
    return max(truffle(v, n-1), v[n-1] + truffle(v, n-2))


def truffleTD(v, n, t):
    if t[n - 1] != -1:
        return t[n - 1]
    if n <= 0:
        return 0
    if n == 1:
        return v[0]
    t[n - 1] = max(truffleTD(v, n-1, t), v[n-1] + truffleTD(v, n-2, t))
    return t[n - 1]


def truffleBU(v, n):
    t = [[0 for i in range(2)] for j in range(n)]

    if n == 1:
        return v[0]

    t[0][0] = 0
    t[0][1] = v[0]

    for i in range(1, n):
        t[i][1] = t[i - 1][0] + v[i]
        t[i][0] = max(t[i - 1][1], t[i - 1][0])

    return max(t[n - 1][0], t[n - 1][1])



if __name__ == '__main__':
    print("Top Down Test Cases:\n====================")

    v = [1, 2, 1, 2, 1, 1, 2, 2, 1, 3, 4, 1, 2, 1]
    n = len(v)
    t = [-1] * n

    print("Test 1 passed?: " + str(truffleTD(v, n, t) == 13))

    v = [3, 4, 3]
    n = len(v)
    t = [-1] * n
    print("Test 2 passed?: " + str(truffleTD(v, n, t) == 6))

    v = [4, 1, 1, 3]
    n = len(v)
    t = [-1] * n
    print("Test 3 passed?: " + str(truffleTD(v, n, t) == 7))
    
    v = [5, 5, 10, 100, 10, 5]
    n = len(v)
    t = [-1] * n
    print("Test 4 passed?: " + str(truffleTD(v, n, t) == 110))

    v = [3, 2, 7, 10]
    n = len(v)
    t = [-1] * n
    print("Test 5 passed?: " + str(truffleTD(v, n, t) == 13))

    v = [3, 2, 5, 10, 7]
    n = len(v)
    t = [-1] * n
    print("Test 6 passed?: " + str(truffleTD(v, n, t) == 15))

    v = [863, 475, 96, 604, 405, 626, 67, 46, 441, 80, 575, 351, 740, 657, 64, 155, 35, 765, 318, 620, 822, 664, 719, 142, 411, 686, 636, 708, 55, 989, 515, 337, 729, 124, 165, 957, 502, 45, 748, 61, 915, 961, 198, 775, 31, 58, 649, 60, 968, 175, 53, 567, 76, 784, 99, 90, 95, 651, 481, 271, 73, 63, 944, 85, 691, 148, 791, 91, 87, 531, 544, 972, 52, 254, 447, 65, 72, 214, 57, 643, 328, 758, 93, 684, 905, 40, 421, 188, 616, 387, 491, 703, 538, 921, 146, 51, 892, 608, 59, 837, 66, 154, 71, 828, 117, 548, 995, 56, 16, 762, 304, 438, 731, 69, 458, 78, 630, 38, 75, 81, 508, 913, 727, 94, 586, 70, 37, 98, 238, 74, 938, 297, 34, 62, 84, 951, 79, 36, 247, 461, 551, 591, 671, 151, 542, 33, 711, 92, 88, 134, 39, 26, 802, 699, 738, 311, 21, 97, 47, 22, 601, 42, 1000, 105, 511, 77, 49, 789, 576, 307, 17, 86, 902, 281, 753, 43, 23, 610, 203, 406, 27, 725, 29, 595, 669, 12, 521, 167, 707, 243, 487, 25, 633, 178, 344, 226, 89, 15, 678, 479, 734, 10, 331, 443, 519, 19, 563, 714, 13, 83, 374, 269, 183, 647, 233, 743, 323, 106, 535, 286, 141, 295, 415, 11, 206, 171, 555, 366, 24, 455, 129, 681, 161, 359, 159, 195, 191, 103, 547, 176, 315, 279, 139, 115, 211, 187, 163, 143, 123, 101, 109, 17, 111, 131, 149, 127, 169, 133, 121, 119, 113, 107, 104, 117]
    n = len(v)
    t = [-1] * n
    print("Test 7 passed?: " + str(truffleTD(v, n, t) == 62025))

    print("====================")



    print("Bottom Up Test Cases:\n====================")

    v = [1, 2, 1, 2, 1, 1, 2, 2, 1, 3, 4, 1, 2, 1]
    n = len(v)

    print("Test 1 passed?: " + str(truffleBU(v, n) == 13))

    v = [3, 4, 3]
    n = len(v)
    print("Test 2 passed?: " + str(truffleBU(v, n) == 6))

    v = [4, 1, 1, 3]
    n = len(v)
    print("Test 3 passed?: " + str(truffleBU(v, n) == 7))
    
    v = [5, 5, 10, 100, 10, 5]
    n = len(v)
    print("Test 4 passed?: " + str(truffleBU(v, n) == 110))

    v = [3, 2, 7, 10]
    n = len(v)
    print("Test 5 passed?: " + str(truffleBU(v, n) == 13))

    v = [3, 2, 5, 10, 7]
    n = len(v)
    print("Test 6 passed?: " + str(truffleBU(v, n) == 15))

    v = [863, 475, 96, 604, 405, 626, 67, 46, 441, 80, 575, 351, 740, 657, 64, 155, 35, 765, 318, 620, 822, 664, 719, 142, 411, 686, 636, 708, 55, 989, 515, 337, 729, 124, 165, 957, 502, 45, 748, 61, 915, 961, 198, 775, 31, 58, 649, 60, 968, 175, 53, 567, 76, 784, 99, 90, 95, 651, 481, 271, 73, 63, 944, 85, 691, 148, 791, 91, 87, 531, 544, 972, 52, 254, 447, 65, 72, 214, 57, 643, 328, 758, 93, 684, 905, 40, 421, 188, 616, 387, 491, 703, 538, 921, 146, 51, 892, 608, 59, 837, 66, 154, 71, 828, 117, 548, 995, 56, 16, 762, 304, 438, 731, 69, 458, 78, 630, 38, 75, 81, 508, 913, 727, 94, 586, 70, 37, 98, 238, 74, 938, 297, 34, 62, 84, 951, 79, 36, 247, 461, 551, 591, 671, 151, 542, 33, 711, 92, 88, 134, 39, 26, 802, 699, 738, 311, 21, 97, 47, 22, 601, 42, 1000, 105, 511, 77, 49, 789, 576, 307, 17, 86, 902, 281, 753, 43, 23, 610, 203, 406, 27, 725, 29, 595, 669, 12, 521, 167, 707, 243, 487, 25, 633, 178, 344, 226, 89, 15, 678, 479, 734, 10, 331, 443, 519, 19, 563, 714, 13, 83, 374, 269, 183, 647, 233, 743, 323, 106, 535, 286, 141, 295, 415, 11, 206, 171, 555, 366, 24, 455, 129, 681, 161, 359, 159, 195, 191, 103, 547, 176, 315, 279, 139, 115, 211, 187, 163, 143, 123, 101, 109, 17, 111, 131, 149, 127, 169, 133, 121, 119, 113, 107, 104, 117]
    n = len(v)
    print("Test 7 passed?: " + str(truffleBU(v, n) == 62025))

    print("====================")



    print("Normal Test Cases:\n====================")

    v = [1, 2, 1, 2, 1, 1, 2, 2, 1, 3, 4, 1, 2, 1]
    n = len(v)

    print("Test 1 passed?: " + str(truffle(v, n) == 13))

    v = [3, 4, 3]
    n = len(v)
    print("Test 2 passed?: " + str(truffle(v, n) == 6))

    v = [4, 1, 1, 3]
    n = len(v)
    print("Test 3 passed?: " + str(truffle(v, n) == 7))
    
    v = [5, 5, 10, 100, 10, 5]
    n = len(v)
    print("Test 4 passed?: " + str(truffle(v, n) == 110))

    v = [3, 2, 7, 10]
    n = len(v)
    print("Test 5 passed?: " + str(truffle(v, n) == 13))

    v = [3, 2, 5, 10, 7]
    n = len(v)
    print("Test 6 passed?: " + str(truffle(v, n) == 15))

    v = [863, 475, 96, 604, 405, 626, 67, 46, 441, 80, 575, 351, 740, 657, 64, 155, 35, 765, 318, 620, 822, 664, 719, 142, 411, 686, 636, 708, 55, 989, 515, 337, 729, 124, 165, 957, 502, 45, 748, 61, 915, 961, 198, 775, 31, 58, 649, 60, 968, 175, 53, 567, 76, 784, 99, 90, 95, 651, 481, 271, 73, 63, 944, 85, 691, 148, 791, 91, 87, 531, 544, 972, 52, 254, 447, 65, 72, 214, 57, 643, 328, 758, 93, 684, 905, 40, 421, 188, 616, 387, 491, 703, 538, 921, 146, 51, 892, 608, 59, 837, 66, 154, 71, 828, 117, 548, 995, 56, 16, 762, 304, 438, 731, 69, 458, 78, 630, 38, 75, 81, 508, 913, 727, 94, 586, 70, 37, 98, 238, 74, 938, 297, 34, 62, 84, 951, 79, 36, 247, 461, 551, 591, 671, 151, 542, 33, 711, 92, 88, 134, 39, 26, 802, 699, 738, 311, 21, 97, 47, 22, 601, 42, 1000, 105, 511, 77, 49, 789, 576, 307, 17, 86, 902, 281, 753, 43, 23, 610, 203, 406, 27, 725, 29, 595, 669, 12, 521, 167, 707, 243, 487, 25, 633, 178, 344, 226, 89, 15, 678, 479, 734, 10, 331, 443, 519, 19, 563, 714, 13, 83, 374, 269, 183, 647, 233, 743, 323, 106, 535, 286, 141, 295, 415, 11, 206, 171, 555, 366, 24, 455, 129, 681, 161, 359, 159, 195, 191, 103, 547, 176, 315, 279, 139, 115, 211, 187, 163, 143, 123, 101, 109, 17, 111, 131, 149, 127, 169, 133, 121, 119, 113, 107, 104, 117]
    n = len(v)
    print("Test 7 passed?: " + str(truffle(v, n) == 62025))
